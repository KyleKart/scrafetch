<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrafetch</title>
    <style>
        body {
            background-color: #1e1e1e;
            color: #c5c8c6;
            font-family: 'Courier New', Courier, monospace;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .scrafetch {
            display: flex;
            align-items: flex-start;
            flex-direction: row; /* Ensure items are in a row */
            gap: 20px; /* Add spacing between items */
            max-width: 90vw; /* Prevent overflowing */
            overflow: auto; /* Handle overflow if content is too large */
        }

        .ascii-art {
            color: #6A9FB5;
            white-space: pre-wrap; /* Preserve white space and handle line breaks */
        }

        .info {
            line-height: 1.5;
            color: #c5c8c6;
            max-width: 400px; /* Constrain width to ensure readability */
        }

        .info pre {
            margin: 0;
        }
    </style>
</head>
<body>
    <div class="scrafetch">
        <div class="ascii-art" id="ascii-art">
            <!-- ASCII art will be dynamically inserted here -->
        </div>
        <div class="info" id="info">
            <!-- Content will be dynamically inserted here -->
        </div>
    </div>
    <script>
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        function generateScrafetchHtml(data) {
            return `
                <pre>
<b>OS:</b>       ${data.OS}<br>
<b>Host:</b>     ${data.Host}<br>
<b>Kernel:</b>   ${data.Kernel}<br>
<b>Uptime:</b>   ${data.Uptime}<br>
<b>Packages:</b> ${data.Packages}<br>
<b>Shell:</b>    ${data.Shell}<br>
<b>Resolution:</b> ${data.Resolution}<br>
<b>DE:</b>       ${data.DE}<br>
<b>WM:</b>       ${data.WM}<br>
<b>Theme:</b>    ${data.Theme}<br>
<b>Icons:</b>    ${data.Icons}<br>
<b>Terminal:</b> ${data.Terminal}<br>
<b>CPU:</b>      ${data.CPU}<br>
<b>GPU:</b>      ${data.GPU}<br>
<b>Memory:</b>   ${data.Memory}<br>
                </pre>
            `;
        }

        const data = {
            OS: getUrlParameter('OS') || 'Unknown OS',
            Host: getUrlParameter('Host') || 'Unknown Host',
            Kernel: getUrlParameter('Kernel') || 'Unknown Kernel',
            Uptime: getUrlParameter('Uptime') || 'Unknown Uptime',
            Packages: getUrlParameter('Packages') || 'Unknown Packages',
            Shell: getUrlParameter('Shell') || 'Unknown Shell',
            Resolution: getUrlParameter('Resolution') || 'Unknown Resolution',
            DE: getUrlParameter('DE') || 'Unknown DE',
            WM: getUrlParameter('WM') || 'Unknown WM',
            Theme: getUrlParameter('Theme') || 'Unknown Theme',
            Icons: getUrlParameter('Icons') || 'Unknown Icons',
            Terminal: getUrlParameter('Terminal') || 'Unknown Terminal',
            CPU: getUrlParameter('CPU') || 'Unknown CPU',
            GPU: getUrlParameter('GPU') || 'Unknown GPU',
            Memory: getUrlParameter('Memory') || 'Unknown Memory',
            AsciiArt: getUrlParameter('AsciiArt') || ' /\\_/\\  \n( o.o ) \n > ^ < '
        };

        // Convert new lines in ASCII art to actual line breaks in HTML
        function formatAsciiArt(asciiArt) {
            return asciiArt.replace(/\n/g, '<br>');
        }

        document.getElementById('info').innerHTML = generateScrafetchHtml(data);
        document.getElementById('ascii-art').innerHTML = `<pre>${formatAsciiArt(data.AsciiArt)}</pre>`;
    </script>
</body>
</html>
